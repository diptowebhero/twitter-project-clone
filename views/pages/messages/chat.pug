extends ./../../partials/header.pug
block title
    title=title
block cssLink
    link(rel="stylesheet" href="/assets/css/home.css")
    link(rel="stylesheet" href="/assets/css/profile.css")
    link(rel="stylesheet" href="/assets/css/messages.css")
block jsScript
    script(src="/assets/js/app.js" defer)
    script(src="/assets/js/chat.js" defer)
    script(src="/assets/js/chatting.js" defer)
block bodyContent
    - avatarUrl = user.avatarProfile ? `/uploads/${user._id}/profile/${user.avatarProfile}` : `/uploads/profile/avatar.png`;
    .overlay(hidden)
    main.main
        include ./../../partials/left_side.pug
        .middle_side_container
            .post_header
                h4.d-flex Chat
                a(href="/messages/newMessages") 
                    i.fas.fa-plus
            .chat_container
                .chat_header
                    .chatImage
                    .chatName
                .chat_message
                    ul
                        li Hello, How are you?
                .chat_footer
                    .chat_attachments
                        label(for="image" class="d-flex align-items-center")
                            input#image(type="file" multiple hidden) 
                            span.material-symbols-outlined
                                | imagesmode
                        button(style="margin: 0px 7px")#stickerHandler.d-flex.align-items-center
                            .sticker_container(hidden)
                                .searchArea
                                    span.material-symbols-outlined
                                        | search
                                    input#stickerInput(type="text" placeholder='Search sticker')
                                .stickers
                            span.material-symbols-outlined
                                | sentiment_satisfied
                        button#gifHandler.d-flex.align-items-center
                            .gif_container(hidden)
                                .searchArea
                                    i.fas.fa-search
                                    input(type="text" placeholder='Search...')
                                .GIfs
                            span.material-symbols-outlined
                                | gif_box
                    textarea#msgInput(placeholder='Start a new message...' rows="1")
                    button 
                        i.fas.fa-paper-plane
        .right_side_container
    script.
        const user = !{userObj}
        const chatId = '!{chatId}'